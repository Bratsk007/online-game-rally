Серверная часть клиент-серверного приложения онлайн игры **Rally**.    
Авторы: **студенты 4-го курса направления "Математическое обеспечение и администрирование информационных систем" РЭУ им. Г .В. Плеханова - Степаниденко Денис, Пак Матвей**.    
Выполнено в качестве работы по дисциплине **"Разработка распределенных приложений"**.  

# Правила игры
* Два гоночных болида проезжают ***трассу***, кто быстрее - побеждает.  
* ***Трасса*** представляет собой поле размером ***(to be added)*** с генерируемыми случайным образом препятствиями.  
* Два режима игры: **MULTIPLAY** и **SINGLEPLAY.**

**Режим MULTIPLAY (игрок против игрока):**    
* 2 игрока проезжают общую трассу. Побеждает игрок с большим счетом (чем меньше время прохождения трассы, тем больше счет).

**Режим SINGLEPLAY (игрок против компьютера/сервера):**   
* роль игрока-оппонента исполняет бот.  

**Управление:**  
* A - сместиться на соседнюю левую полосу;
* D - сместиться на соседнюю правую полосу.

# Стек технологий
* Java: 17
* Spring Boot: 3.4.0
* Spring Boot Starter Data JDBC
* Spring Boot Starter JPA
* PostgreSQL: 42.6.0
* Project Lombok: 1.18.30
* Spring Boot Starter Test

# Протокол взаимодействия клиент-сервер
Протокол взаимодействия между клиентом и сервером основан на текстовых командах, передаваемых по протоколу TCP через сокеты. **Список команд:**  

**0. Подключение/отключение от сервера:**  
* **CONNECT:** Клиент отправляет эту команду для подключения к серверу.  
* **CONNECT_ACK:** Сервер отправляет эту команду в ответ на **CONNECT**, подтверждая подключение.
* **DISCONNECT:** Клиент отправляет эту команду для отключения от сервера.
* **DISCONNECT_ACK:** Сервер отправляет эту команду в ответ на **DISCONNECT**, подтверждая отключение.

**1.	Инициализация игры:**
* **INIT_GAME:** Клиент отправляет эту команду для инициализации новой игры.  
*	**INIT_GAME_ACK:** Сервер отправляет эту команду в ответ на **INIT_GAME**, подтверждая инициализацию игры.  

**2.	Управление игрой:**  
*	**MOVE_LEFT:** Клиент отправляет эту команду для перемещения игрока влево.  
*	**MOVE_RIGHT:** Клиент отправляет эту команду для перемещения игрока вправо.  
*	**GAME_STATE:** Сервер отправляет текущее состояние игры: положение игрока, положение препятствий и счет.  
*	**QUIT_GAME:** Клиент отправляет эту команду для выхода из игры  
*	**QUIT_GAME_ACK:** Сервер отправляет эту команду в ответ на **QUIT_GAME**, подтверждая выход из игры  

***Опционально:***
*	**SAVE_GAME:**  
*	**LOAD_GAME:**  

**3.	Завершение игры:**  
*	**GAME_OVER:** Сервер отправляет эту команду, когда игра заканчивается.  
*	**SCORE:** Сервер отправляет счет игрока после завершения игры.  

**4.	Режим Multiplayer (PvP) (два игрока, каждый проезжает общую трассу, побеждает игрок с большим счетом):**  
*	**MULTIPLAY:** Клиент отправляет эту команду для начала игры против игрока.  
*	**MULTIPLAY_ACK:** Сервер отправляет эту команду в ответ на **MULTIPLAY**.  
*	**JOIN_LOBBY_ID:** Клиент отправляет эту команду для присоединения к существующей игре по ID лобби.  
*	**JOIN_LOBBY_ID_ACK:** Сервер отправляет эту команду в ответ на **JOIN_LOBBY_ID** при успешном подключении к лобби.  
*	**FULL_LOBBY_ERR:** Сервер отправляет эту команду в ответ на **JOIN_LOBBY_ID**, когда лобби уже заполнено.  
*	**PLAYER_JOINED:** Сервер отправляет эту команду, когда второй игрок присоединяется к игре.  
*	**LEAVE_LOBBY:** Клиент отправляет эту команду, когда хочет отсоединиться от существующей игры.  
*	**PLAYER_LEFT:** Сервер отправляет эту команду, когда второй игрок отсоединяется от игры.  
*	**CHECK_READINESS:** Сервер отправляет эту команду, когда лобби заполнено, чтобы проверить готовность игроков к началу игры  
*	**READY:** Клиент отправляет эту команду, когда хочет подтвердить готовность к игре  
*	**NOT_READY:** Клиент отправляет эту команду, когда хочет отменить готовность к игре  
*	**AFK_TIMEOUT:** Сервер отправляет эту команду, когда клиент бездействует в лобби более минуты.  

**5.	Режим Singleplayer (против сервера):**  
*	**SINGLEPLAY:** Клиент отправляет эту команду для начала игры в одиночку.  
*	**SINGLEPLAY_ACK:** Сервер отправляет эту команду в ответ на **SINGLEPLAY**.  

**6.	Лучшие результаты:**  
*	**TOP_SCORES_MULTIPLAY_WINS:** Клиент отправляет эту команду для запроса лучших результатов в режиме MULTIPLAY (количество побед).
*	**TOP_SCORES_MULTIPLAY_TIME:** Клиент отправляет эту команду для запроса лучших результатов в режиме MULTIPLAY (лучшее время).    
*	**TOP_SCORES_MULTIPLAY_WINS_ACK:** Сервер отправляет список лучших результатов в ответ на **TOP_SCORES_MULTIPLAY_WINS**.  
*	**TOP_SCORES_MULTIPLAY_TIME_ACK:** Сервер отправляет список лучших результатов в ответ на **TOP_SCORES_MULTIPLAY_TIME**.  
* **TOP_SCORES_SINGLEPLAY_WINS:** Клиент отправляет эту команду для запроса лучших результатов в режиме против сервера (количество побед).
* **TOP_SCORES_SINGLEPLAY_TIME:** Клиент отправляет эту команду для запроса лучших результатов в режиме против сервера (лучшее время).
* **TOP_SCORES_SINGLEPLAY_WINS_ACK:** Сервер отправляет список лучших результатов в ответ на **TOP_SCORES_SINGLEPLAY_WINS**.
* **TOP_SCORES_SINGLEPLAY_TIME_ACK:** Сервер отправляет список лучших результатов в ответ на **TOP_SCORES_SINGLEPLAY_TIME**.
